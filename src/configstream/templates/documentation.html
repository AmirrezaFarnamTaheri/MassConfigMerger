{% extends "base.html" %}

{% block title %}Documentation - ConfigStream{% endblock %}

{% block header_title %}Documentation{% endblock %}

{% block content %}
<div class="space-y-8">
    <!-- Header -->
    <div>
        <h1 class="text-4xl font-extrabold text-white">Documentation</h1>
        <p class="mt-2 text-lg text-gray-400">
            Your comprehensive guide to installing, configuring, and using ConfigStream.
        </p>
    </div>

    <div class="lg:grid lg:grid-cols-12 lg:gap-8">
        <!-- Sidebar Navigation -->
        <aside class="lg:col-span-3 mb-8 lg:mb-0">
            <div class="sticky top-6">
                <div class="card p-0">
                    <nav id="doc-nav" class="space-y-1 p-4">
                        <a href="#introduction" class="doc-nav-link active">Introduction</a>
                        <a href="#core-features" class="doc-nav-link">Core Features</a>
                        <a href="#dashboard-pages" class="doc-nav-link">Dashboard Pages</a>
                        <a href="#cli" class="doc-nav-link">CLI</a>
                        <a href="#configuration" class="doc-nav-link">Configuration</a>
                    </nav>
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="lg:col-span-9">
            <div class="space-y-12">
                <section id="introduction" class="doc-section">
                    <h2 class="doc-heading">Introduction</h2>
                    <p class="doc-text">ConfigStream is a powerful, open-source tool designed to streamline the process of aggregating, testing, and managing proxy configurations from various sources. Whether you're a developer, a network administrator, or just someone who needs reliable access to a variety of proxy servers, ConfigStream provides the tools you need to build and maintain a high-quality, up-to-date subscription list.</p>
                </section>

                <section id="core-features" class="doc-section">
                    <h2 class="doc-heading">Core Features</h2>
                    <ul class="doc-list">
                        <li><strong>Aggregation:</strong> Automatically fetches proxy configurations from multiple sources, including URLs and Telegram channels.</li>
                        <li><strong>Testing:</strong> Rigorously tests each configuration for latency, reliability, and geographic location to ensure you always have the best connection.</li>
                        <li><strong>Merging:</strong> Merges the best-performing configurations into a single, optimized subscription file compatible with Clash, Quantumult X, and more.</li>
                        <li><strong>Web Dashboard:</strong> A user-friendly interface for monitoring the status of your configurations, viewing test results, and managing settings.</li>
                        <li><strong>API:</strong> A RESTful API for programmatic access to your configuration data.</li>
                    </ul>
                </section>

                <section id="dashboard-pages" class="doc-section">
                    <h2 class="doc-heading">Dashboard Pages</h2>
                     <ul class="doc-list">
                        <li><strong>Home:</strong> The main landing page with an overview of the key features.</li>
                        <li><strong>Dashboard:</strong> The main dashboard with proxy node statistics and a filterable list of nodes.</li>
                        <li><strong>System:</strong> A page for monitoring the application's status, including scheduler jobs, system uptime, and logs.</li>
                        <li><strong>Export:</strong> A page for exporting configurations in various formats.</li>
                        <li><strong>Settings:</strong> A page for viewing the application's settings.</li>
                        <li><strong>Documentation:</strong> This page.</li>
                        <li><strong>API Docs:</strong> Documentation for the ConfigStream API.</li>
                    </ul>
                </section>

                <section id="cli" class="doc-section">
                    <h2 class="doc-heading">Command-Line Interface (CLI)</h2>
                    <p class="doc-text">The CLI is the primary way to interact with ConfigStream. Here are the main commands:</p>
                    <pre class="doc-code"><code>configstream fetch
configstream merge
configstream retest
configstream full
configstream daemon
configstream history
configstream sources
configstream tui</code></pre>
                </section>

                <section id="configuration" class="doc-section">
                    <h2 class="doc-heading">Configuration</h2>
                    <p class="doc-text">ConfigStream is configured using a <code>config.yaml</code> file. This file allows you to customize various aspects of the application, including:</p>
                    <ul class="doc-list">
                        <li>Network settings (timeouts, proxies, etc.)</li>
                        <li>Filtering rules for including and excluding configurations</li>
                        <li>Output formats and file locations</li>
                        <li>Security settings (API keys, etc.)</li>
                    </ul>
                    <p class="doc-text mt-4">For a detailed overview of all available configuration options, please refer to the <code>config.yaml.example</code> file in the project repository.</p>
                </section>
            </div>
        </main>
    </div>
</div>
{% endblock %}

{% block head_extra %}
<script src="{{ url_for('static', filename='js/documentation.js') }}" defer></script>
{% endblock %}